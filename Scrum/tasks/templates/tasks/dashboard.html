{% extends 'tasks/base.html' %}
{% block content %}
    <style>
        body {font-family: Arial;}

        /* Style the tab */
        .tab {
          overflow: hidden;

        }

        /* Style the buttons inside the tab */
        .tab button {
          background-color: inherit;
          float: left;
          border: none;
          outline: none;
          cursor: pointer;
          padding: 14px 16px;
          transition: 0.3s;
          font-size: 17px;
        }

        /* Change background color of buttons on hover */
        .tab button:hover {
          background-color: #ddd;
        }

        /* Create an active/current tablink class */
        .tab button.active {
          background-color: #ccc;
        }

        /* Style the tab content */
        .tabcontent {
          display: none;
          padding: 6px 12px;
          -webkit-animation: fadeEffect 1s;
          animation: fadeEffect 1s;
        }

        /* Fade in tabs */
        @-webkit-keyframes fadeEffect {
          from {opacity: 0;}
          to {opacity: 1;}
        }

        @keyframes fadeEffect {
          from {opacity: 0;}
          to {opacity: 1;}
        }
    </style>
    <br>
    <h1>Dashboard</h1>
    <br>
    <div class="tab">
        <button class="tablinks" onclick="openCity(event, 'All')" id="defaultOpen">All</button>
        <button class="tablinks" onclick="openCity(event, 'Completed')">Completed</button>
        <button class="tablinks" onclick="openCity(event, 'Pending')">Pending</button>
        <button class="tablinks" onclick="openCity(event, 'In_Progress')">In Progress</button>
    </div>
    <br>

    <div id="All" class="tabcontent">
    {% for x in sprint_ongoing %}
        {% for y in x.tasks.all %}
    <p>{{y.title}}</p>
        {%endfor%}
    {%endfor%}
    </div>

    <div id="Completed" class="tabcontent">
    {% for x in sprint_ongoing %}
        {% for y in x.tasks.all %}
            {% if y.status == TASK_COMPLETE %}
    <p>{{y.title}}</p>
            {%endif%}
        {%endfor%}
    {%endfor%}
    </div>

    <div id="Pending" class="tabcontent">
    {% for x in sprint_ongoing %}
        {% for y in x.tasks.all %}
            {% if y.status == TASK_PENDING %}
    <p>{{y.title}}</p>
            {%endif%}
        {%endfor%}
    {%endfor%}
    </div>

    <div id="In_Progress" class="tabcontent">
    {% for x in sprint_ongoing %}
        {% for y in x.tasks.all %}
            {% if y.status == TASK_IN_PROGRESS %}
    <p>{{y.title}}</p>
            {%endif%}
        {%endfor%}
    {%endfor%}
    </div>


    <div style="display:flex; flex-direction: row;">


        <!-- Tab links -->


    <!-- Left side columns -->
    <div class="col-lg-8">
        <div class="row">

          <!-- Brief task list -->
          <div class="col-12">
            </div>
          </div><!-- End Brief task list -->



          <!-- sprint list -->
          <div class="col-12">
            <div class="card top-selling overflow-auto">

              <div class="card-body pb-0">
                <h5 class="card-title">Tasks <span>| On going</span></h5>

                <table class="table table-borderless">
                  <thead>
                    <tr>
                      <th scope="col">Title</th>
                      <th scope="col">Status</th>
                      <th scope="col">Tag</th>
                      <th scope="col">Assignee</th>
                      <th scope="col">Due Date</th>
                    </tr>
                  </thead>
                  <tbody>
                  {% for x in sprint_ongoing %}
                    {% for y in x.tasks.all %}
                    <tr>
                      <td>{{y.title}}</td>
                      <td>{{y.get_status_display}}</td>
                      <td >None</td>
                      <td >{{y.assignee}}</td>
                      <td>{{y.due_date}}</td>
                    </tr>
                    {%endfor%}
                  {%endfor%}
                  </tbody>
                </table>

              </div>

            </div>
          </div><!-- End sprint list -->

           <!-- member list -->
           <div class="col-12">
            <div class="card top-selling overflow-auto">

              <div class="card-body pb-0">
                <h5 class="card-title">Members <span>| </span></h5>

                <table class="table table-borderless">
                  <thead>
                    <tr>
                      <th scope="col">First Name</th>
                      <th scope="col">Last Name</th>
                      <th scope="col">Email</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Tim</td>
                      <td>Leh</td>
                      <td >jpar007@gmail.com</td>
                    </tr>
                  </tbody>
                </table>

              </div>

            </div>
          </div><!-- End member list -->

        </div>
      </div><!-- End Left side columns -->

    <!-- Right side columns -->
    <div class="col-lg-4">


        <!-- Upcoming events -->
        <div class="card">

          <div class="card-body">
            <h5 class="card-title">Upcoming events <span>| pending </span></h5>

            <div class="activity">

            {% for x in sprint_pending %}
              <ul>
                <li>{{x.title}} - {{x.get_status_display}}</li>
              </ul>
            {%endfor%}
            </div>

          </div>
        </div><!-- Upcoming events -->

        
        <!-- Statistics -->
        <div class="card">
          <div class="card-body pb-0">
            <h5 class="card-title">Statistics <span>| This Project</span></h5>

            <div id="statisticChart" style="min-height: 400px;" class="echart"></div>

            <script src="js/Chart.min.js"></script>
          </div>
        </div><!-- End Budget Report -->


      </div><!-- End Right side columns -->
    </div>

    <script>
        function openCity(evt, cityName) {
          var i, tabcontent;
          tabcontent = document.getElementsByClassName("tabcontent");
          for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
          }
          tablinks = document.getElementsByClassName("tablinks");
          for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
          }
          document.getElementById(cityName).style.display = "block";
          evt.currentTarget.className += " active";
          }

    document.getElementById("defaultOpen").click();
    </script>
{% endblock %}


 